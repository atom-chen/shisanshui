
var RoomManager = require('base/room-manager');
//清空
RoomManager.initRooms();
//获取一个可用的房间
RoomManager.getAvailableRoom(function (result,obj) {
    if (result) {
        console.log(JSON.stringify(obj));

        obj.setting1 = 'setting1';
        obj.setting2 = 'setting2';
        obj.setting3 = 'setting3';
        obj.type = 'qjmj';
        obj.createUserId = 123456;
        //保存房间信息
        obj.save(function (err) {
            console.log(!err?"保存成功":"保存失败");
            //释放房间
            obj.clearRoom(function (err) {
                console.log(!err?"释放成功":"释放失败");
            });
        });
    }
});