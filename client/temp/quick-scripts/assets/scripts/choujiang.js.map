{"version":3,"sources":["choujiang.js"],"names":["socket","require","cc","Class","extends","Component","properties","option","default","type","Node","onLoad","clickBtnchoujiang","i","length","opacity","index","_tishi","node","getChildByName","_card_num","find","comp","getComponent","Label","callback","string","active","schedule","unschedule","Math","floor","random","clickBtnComfirm"],"mappings":";;;;;;AAAA,IAAIA,SAASC,QAAQ,QAAR,CAAb;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,gBAAO;AACHC,qBAAQ,EADL;AAEHC,kBAAKP,GAAGQ;AAFL;AADC,KAHP;;AAUL;AACAC,YAAQ,kBAAY,CAEnB,CAbI;;AAeLC,uBAAkB,6BAAW;AACzB,aAAI,IAAIC,IAAE,CAAV,EAAYA,IAAE,KAAKN,MAAL,CAAYO,MAA1B,EAAiCD,GAAjC,EAAqC;AACjC,iBAAKN,MAAL,CAAYM,CAAZ,EAAeE,OAAf,GAAyB,GAAzB;AACH;AACD,YAAIC,QAAQ,CAAZ;AACA,aAAKC,MAAL,GAAc,KAAKC,IAAL,CAAUC,cAAV,CAAyB,cAAzB,EAAyCA,cAAzC,CAAwD,OAAxD,CAAd;AACA,aAAKC,SAAL,GAAiBlB,GAAGmB,IAAH,CAAQ,8BAAR,CAAjB;AACA,YAAIC,OAAO,KAAKF,SAAL,CAAeG,YAAf,CAA4BrB,GAAGsB,KAA/B,CAAX;AACA,aAAKC,QAAL,GAAgB,YAAU;AAClB,gBAAGT,SAAS,CAAZ,EAAc;AACV,qBAAKT,MAAL,CAAYS,KAAZ,EAAmBD,OAAnB,GAA6B,GAA7B;AACA,qBAAKR,MAAL,CAAY,KAAKA,MAAL,CAAYO,MAAZ,GAAmB,CAA/B,EAAkCC,OAAlC,GAA4C,GAA5C;AACH,aAHD,MAGM,IAAGC,SAAS,CAAZ,EAAc;AAChB,qBAAKT,MAAL,CAAYS,KAAZ,EAAmBD,OAAnB,GAA6B,GAA7B;AACA,qBAAKR,MAAL,CAAYS,QAAQ,CAApB,EAAuBD,OAAvB,GAAiC,GAAjC;AACH,aAHK,MAGD;AACD,qBAAKR,MAAL,CAAYS,KAAZ,EAAmBD,OAAnB,GAA6B,GAA7B;AACA,qBAAKR,MAAL,CAAYS,QAAM,CAAlB,EAAqBD,OAArB,GAA+B,GAA/B;AACH;AACDC;AACA,gBAAGA,SAAS,KAAKT,MAAL,CAAYO,MAAxB,EAA+B;AAC3BE,wBAAQ,CAAR;AACH;AACJ,SAfL;AAgBA,YAAGM,KAAKI,MAAL,GAAc,EAAjB,EAAqB;AACjB,iBAAKT,MAAL,CAAYU,MAAZ,GAAqB,IAArB;AACH,SAFD,MAEK;AACD;AACA,iBAAKC,QAAL,CAAc,KAAKH,QAAnB,EAA4B,IAA5B;AACA,iBAAKG,QAAL,CAAc,YAAU;AACpB,qBAAKC,UAAL,CAAgB,KAAKJ,QAArB;AACA,qBAAI,IAAIZ,IAAE,CAAV,EAAYA,IAAE,KAAKN,MAAL,CAAYO,MAA1B,EAAiCD,GAAjC,EAAqC;AACjC,yBAAKN,MAAL,CAAYM,CAAZ,EAAeE,OAAf,GAAyB,GAAzB;AACH;AACD,oBAAIF,IAAIiB,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,EAA3B,CAAR;AACA,qBAAKzB,MAAL,CAAYM,CAAZ,EAAeE,OAAf,GAAyB,GAAzB;AACH,aAPD,EAOE,CAPF,EAOI,CAPJ,EAOM,CAPN;AAQH;AAEJ,KAtDI;;AAwDL;AACAkB,qBAAgB,2BAAW;AACvB,aAAKhB,MAAL,CAAYU,MAAZ,GAAqB,KAArB;AACA;AACH;AACD;;AAEA;AACA;;AAEA;AAlEK,CAAT","file":"choujiang.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["var socket = require(\"socket\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        option:{\r\n            default:[],\r\n            type:cc.Node\r\n        },\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n    },\r\n    \r\n    clickBtnchoujiang:function() {\r\n        for(var i=0;i<this.option.length;i++){\r\n            this.option[i].opacity = 255;\r\n        }\r\n        var index = 0;\r\n        this._tishi = this.node.getChildByName(\"choujiang_bg\").getChildByName(\"tishi\");\r\n        this._card_num = cc.find(\"Canvas/user/shop_bg/card_num\");\r\n        var comp = this._card_num.getComponent(cc.Label);\r\n        this.callback = function(){\r\n                if(index == 0){\r\n                    this.option[index].opacity = 128;\r\n                    this.option[this.option.length-1].opacity = 255;\r\n                }else if(index == 1){\r\n                    this.option[index].opacity = 128;\r\n                    this.option[index - 1].opacity = 255;\r\n                }else{\r\n                    this.option[index].opacity = 128;\r\n                    this.option[index-1].opacity = 255;\r\n                }\r\n                index ++;\r\n                if(index == this.option.length){\r\n                    index = 0;\r\n                }\r\n            };\r\n        if(comp.string < 20) {\r\n            this._tishi.active = true;\r\n        }else{\r\n            //choujiang\r\n            this.schedule(this.callback,0.05);\r\n            this.schedule(function(){\r\n                this.unschedule(this.callback);\r\n                for(var i=0;i<this.option.length;i++){\r\n                    this.option[i].opacity = 255;\r\n                }\r\n                var i = Math.floor(Math.random() * 12);\r\n                this.option[i].opacity = 128;\r\n            },3,0,1);\r\n        }\r\n        \r\n    },\r\n    \r\n    //***\r\n    clickBtnComfirm:function() {\r\n        this._tishi.active = false;\r\n        //this.node.active = false;\r\n    },\r\n    //****\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}