{"version":3,"sources":["singleSelect.js"],"names":["cc","Class","extends","Component","properties","nodes","Node","selectedIndex","onLoad","self","rs","js","sf","bl","set","setting1","setting2","setting4","setting5","i","length","isSelected","getComponent","setSelected","index","selectIndex","getChildByName","color","Color","tComp","clickAction","comp","Peers","node","parent","children","a","title","onSelectChange","_name","console","log","remember_set","num"],"mappings":"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","file":"singleSelect.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        nodes:[cc.Node],\n        selectedIndex: 0,\n    },\n\n    /*####*/\n    onLoad: function () {\n        var self = this;\n        var rs = 0;\n        var js = 0;\n        var sf = 0;\n        var bl = 0;\n        if(cc.set){\n            js = cc.set.setting1;\n            rs = cc.set.setting2;\n            sf = cc.set.setting4;\n            bl = cc.set.setting5;\n        }\n        for (var i = 0; i < this.nodes.length; i++) {\n            let isSelected = (this.selectedIndex == i);\n            this.nodes[i].getComponent('select').setSelected(isSelected);\n            var index = 0;\n            var selectIndex = this.selectedIndex ;\n            this.nodes[i].getChildByName('title').color = new cc.Color(255,255,255);\n            if( selectIndex == i){\n                this.nodes[selectIndex].getChildByName(\"title\").color = new cc.Color(13,210,222);\n            }\n        }\n        for (var i = 0; i < this.nodes.length; i++) {\n            var tComp = this.nodes[i].getComponent('select');\n            tComp.index = i;\n\n            tComp.clickAction = function() {\n                for (var i = 0; i < self.nodes.length; i++) {\n                    var comp = self.nodes[i].getComponent('select');\n                    comp.setSelected(false);\n                }\n                var Peers = this.node.parent.children;  // 同辈节点\n                var index = 0;\n                for(var a=0; a<Peers.length; a++){\n                    if( Peers[a].children.length>0 ){            // 如果同辈有子节点 处理子节点文字的颜色\n                        var title = Peers[a].getChildByName(\"title\");\n                        title.color = new cc.Color(255,255,255);\n                    }\n                }\n                this.node.getChildByName('title').color = new cc.Color(13,210,222);\n                //this.node.children[index].color = new cc.Color(13,210,222);\n                this.setSelected(true);\n                self.selectedIndex = this.index;\n                self.onSelectChange(this.index);\n            };\n        }\n        if( this.node._name == \"renshu\" && cc.set ){\n            console.log(rs);\n            this.remember_set(rs);\n        }\n        if( this.node._name == \"jushu\" && cc.set ){\n            this.remember_set(js);\n        }\n        if( this.node._name == \"cards\" && cc.set ){\n            this.remember_set(sf);\n        }\n        if( this.node._name == \"beiLv\" && cc.set ){\n            this.remember_set(bl);\n        }\n    },\n    remember_set:function(num){\n        this.selectedIndex = num;\n        for(var i = 0; i < this.nodes.length; i++){\n            let isSelected = (num == i);\n            this.nodes[i].getComponent('select').setSelected(isSelected);\n            var index = 0;\n            this.nodes[i].getChildByName('title').color = new cc.Color(255,255,255);\n            if( num == i){\n                // if( this.nodes[num].children[0].name == \"title\" ){\n                //     index = 0;\n                // }else if(this.nodes[num].children[1].name == \"title\"){\n                //     index =1;\n                // }\n                this.nodes[num].getChildByName('title').color = new cc.Color(13,210,222);\n            }\n\n        }\n    },\n\n    onSelectChange: function (selectIndex) {\n\n\n    },\n    \n});\n"]}