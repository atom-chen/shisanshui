{"version":3,"sources":["KQCardScoreExtension.js"],"names":["KQCard","require","KQCardFindTypeExtension","KQCardColorsHelper","KQCardScoretsHelper","GetCardPointsSameCount","KQCardPointsHelper","scoreOfCards","cards","length","isTou","typeScore","_typeScoreOfCards","caleCards","_convertOneToA","slice","forEach","card","scores","card20","contain20","pointHelper","kq_excludes","maxNum","maxNumber","maxScore","i","pointNumbers","parseInt","sort","a1","a2","totalValue","s","_changeCardScors","valueColor","c","color","cc","huaSe","str","oneValue","oneValueColor","w","totalScore","totalColor","paiPoint","point","colors","oneValueColor20","q","card1","card2","index","s20","valuePoint","cardsTotalPoint","result","cardModel","is14","is1","num","scoresAyy","push","j","cardScores","splice","bind","containWuTong","containTongHuaShun","containTieZhi","containHuLu","containTongHua","containShunZi","containSanTiao","containLiaDui","containDuiZi","_typeCardsSortByNumberOfPoints","_changeGuiCard","newCards","numberOfCard1","numberOfCard2","scores1","scores2","_typeCardsSortByNumberOfPoints1","ca","helper","so","type","cardsType","n","colorScores","concat","_setGuiCard","start","end","nodes","cardSpriteAtlas","node","filter","childrenCount","children","cardName","split","map","btnSprite","getComponent","Sprite","path","_loadCardFrame","_setGuiCards","SpriteFrame","SpritesNode","h","getSpriteFrame","spriteFrame","width","height","testScore"],"mappings":"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","file":"KQCardScoreExtension.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\KQCard","sourcesContent":["const KQCard = require('KQCard');\nconst KQCardFindTypeExtension = require('KQCardFindTypeExtension');\nconst KQCardColorsHelper = require('KQCardColorsHelper');\nconst KQCardScoretsHelper = require('KQCardScoretsHelper');\nconst GetCardPointsSameCount = require('GetCardPointsSameCount');\nconst KQCardPointsHelper = require('KQCardPointsHelper');\n\nKQCard.scoreOfCards = function (cards) {\n  if(cards == null || cards.length == null) {\n    cards = [];\n  }\n\n  var isTou = cards.length == 3;\n  let typeScore = KQCard._typeScoreOfCards(cards);\n  var caleCards = KQCard._convertOneToA(cards.slice());\n  caleCards.forEach(function(card){\n    if(card.scores == 1){\n      card.scores = 14;\n    }\n  })\n  //caleCards = KQCard.Sort(caleCards);\n  var card20 = KQCard.contain20(caleCards);\n  var pointHelper = new KQCardScoretsHelper(caleCards.kq_excludes(card20));\n  var maxNum = pointHelper.maxNumber()/*-card20.length == 0 ? 1: pointHelper.maxNumber()-card20.length*/;\n\n  var maxScore = 0;//获取除鬼牌外最大的的点数\n  for(var i in pointHelper.pointNumbers) {\n    if (parseInt(i) > maxScore && pointHelper.pointNumbers[i] == maxNum) {\n      maxScore = parseInt(i);\n    }\n  }\n  caleCards.forEach(function(card){\n    if(card.scores >= 20){\n      card.scores = maxScore;\n    }\n  })\n  card20.forEach(function(card){\n    card.scores = maxScore;\n  })\n  //cc.log(maxNum)\n  //cc.log(maxScore)\n  //cc.log(caleCards.kq_excludes(card20))\n  //cc.log('----35')\n  caleCards.sort(KQCard.sort);\n  if(typeScore == 9000000000000000){\n    //五同\n    caleCards.sort(function(a1,a2){\n      return a2.scores - a1.scores;\n    });\n    var totalValue = \"\";\n    //var totalColor = \"\";\n    for(var i in caleCards) {\n      var s = caleCards[i].scores;\n      //var c = caleCards[i].color;\n      totalValue = (parseInt(s) >= 10 ? s : \"0\"+s)+totalValue;\n      //totalColor = c+totalColor;\n    }\n    //totalValue = totalValue+totalColor;\n    //cc.log(totalValue)\n    //cc.log(parseInt(totalValue))\n    //cc.log(typeScore+parseInt(totalValue))\n    return typeScore+parseInt(totalValue);\n  }\n  else if(typeScore == 8000000000000000) {\n    //同花顺比最大的那张，如果两张相同那就是相同\n    if(card20.length > 0){//有鬼牌的时候要改变鬼牌的分数\n      caleCards = KQCard._changeCardScors(caleCards);\n    }\n    var totalValue = \"\";\n    var valueColor = \"\";//牌色\n    for(var i in caleCards) {\n      var s = caleCards[i].scores;\n      totalValue = (parseInt(s) >= 10 ? s : \"0\"+s)+totalValue;\n      var c = caleCards[i].color;//牌色\n      valueColor = c + valueColor;//牌色\n    }\n    if(cc.huaSe == 0) return typeScore+parseInt(totalValue);\n    return typeScore+parseInt(totalValue + valueColor);\n  }\n  else if(typeScore == 7000000000000000) {\n    //铁支,找出那四张是什么牌\n\n    var str = \"\";\n    var oneValue = \"\";\n    var valueColor = \"\";//牌色\n    var oneValueColor = \"\";//牌色\n    for(var w in caleCards) {\n      if(maxScore == caleCards[w].scores){//三条\n        var s = caleCards[w].scores;\n        str = (parseInt(s)>=10 ? s :\"0\"+s) + str;\n\n        var c = caleCards[w].color;//牌色\n        valueColor = c + valueColor;//牌色\n      }else{\n        var s = caleCards[w].scores;\n        oneValue = (parseInt(s)>=10 ? s :\"0\"+s) + oneValue;\n\n        var c = caleCards[w].color;//牌色\n        oneValueColor = c + oneValueColor;//牌色\n\n      }\n    }\n    //if(cc.huaSe == 0) return typeScore+parseInt(str+oneValue);\n    //var qwe = '';\n    //qwe = oneValueColor.substr(0,oneValueColor.length -1);\n    //oneValueColor = oneValueColor.substr(oneValueColor.length -1);\n    //str = str+oneValue + oneValueColor + valueColor + qwe;\n    //return typeScore+parseInt(str);\n    return typeScore+parseInt(str+oneValue);\n  }\n  else if(typeScore == 6000000000000000) {\n    //葫芦\n    var str = \"\";\n    var oneValue = \"\";\n    var valueColor = \"\";//牌色\n    var oneValueColor = \"\";//牌色\n    for(var w in caleCards) {\n      if(maxScore == caleCards[w].scores){//三条\n        var s = caleCards[w].scores;\n        str = (parseInt(s)>=10 ? s :\"0\"+s) + str;\n\n        var c = caleCards[w].color;//牌色\n        valueColor = c + valueColor;//牌色\n      }else{\n        var s = caleCards[w].scores;\n        oneValue = (parseInt(s)>=10 ? s :\"0\"+s) + oneValue;\n\n        var c = caleCards[w].color;//牌色\n        oneValueColor = c + oneValueColor;//牌色\n\n      }\n    }\n\n    if(isTou){\n      oneValue = oneValue+'0000';\n      oneValueColor = oneValueColor+'00';\n    }\n    return typeScore+parseInt(str+oneValue);\n    //if(cc.huaSe == 0) return typeScore+parseInt(str+oneValue);\n    //str = str+oneValue + valueColor + oneValueColor;\n    //return typeScore+parseInt(str);\n\n  }\n  else if(typeScore == 5000000000000000) {\n    //同花,有可能需要比5张牌\n    var totalScore = \"\";\n    var totalColor = \"\";\n    //var colors = 0;//获取牌的类型颜色\n    //for(var i in caleCards) {\n    //  if(parseInt(caleCards[i].point) < 20){\n    //    colors = parseInt(caleCards[i].color);\n    //    break;\n    //  }\n    //}\n\n    for(var i in caleCards) {\n      var paiPoint = parseInt(caleCards[i].point);\n      var colors = parseInt(caleCards[i].point) < 20 ? caleCards[i].color: 5;\n      totalColor = colors + totalColor;\n      totalScore = (paiPoint>=10 ? paiPoint : \"0\"+paiPoint)+totalScore;\n    }\n    return typeScore+parseInt(totalScore);\n    //if(cc.huaSe == 0) return typeScore+parseInt(totalScore);\n    //return typeScore+parseInt(totalScore+totalColor);\n  }\n  else if(typeScore == 4000000000000000) {\n    //顺子\n    if(card20.length > 0){//有鬼牌的时候要改变鬼牌的分数\n      caleCards = KQCard._changeCardScors(caleCards);\n    }\n    var totalValue = \"\";\n    var valueColor = \"\";//牌色\n    for(var i in caleCards) {\n      var s = caleCards[i].scores;\n      totalValue = (parseInt(s) >= 10 ? s : \"0\"+s)+totalValue;\n\n      var c = caleCards[i].color;//牌色\n      valueColor = c + valueColor;//牌色\n    }\n    return typeScore+parseInt(totalValue);\n    //if(cc.huaSe == 0) return typeScore+parseInt(totalValue);\n    //return typeScore+parseInt(totalValue + valueColor);\n  }\n  else if(typeScore == 3000000000000000) {\n    //三条，找出是哪张牌有3张\n    //caleCards.sort(KQCard.sort);\n    var str = \"\";\n    var oneValue = \"\";\n    var valueColor = \"\";//牌色\n    var oneValueColor = \"\";//牌色\n    var oneValueColor20 = \"\";//牌色\n    for(var w in caleCards) {\n      if(maxScore == caleCards[w].scores){//三条\n        var s = caleCards[w].scores;\n        str = (parseInt(s)>=10 ? s :\"0\"+s) + str;\n\n        var c = caleCards[w].color;//牌色\n        valueColor = c + valueColor;//牌色\n      }else{\n        var s = caleCards[w].scores;\n        oneValue = (parseInt(s)>=10 ? s :\"0\"+s) + oneValue;\n\n        var c = caleCards[w].color;//牌色\n        if(parseInt(s) < 20){\n          oneValueColor = c + oneValueColor;//牌色\n        }else{\n          oneValueColor20 = c + oneValueColor20;//牌色\n        }\n      }\n    }\n    if(isTou){\n      oneValue = oneValue+'0000';\n      valueColor = valueColor+'00';\n    }\n    return typeScore+parseInt(str+oneValue);\n    //if(cc.huaSe == 0) return typeScore+parseInt(str+oneValue);\n    //str = str+oneValue + oneValueColor + valueColor + oneValueColor20;\n    //return typeScore+parseInt(str);\n\n  }\n  else if(typeScore == 2000000000000000) {\n    //caleCards.sort(KQCard.sort);\n    //两对,有可能需要比5张牌\n    var str = \"\";\n    var oneValue = '';\n    var valueColor = \"\";//牌色\n    var oneValueColor = \"\";//牌色\n    for(var i in pointHelper.pointNumbers) {\n      if(pointHelper.pointNumbers[i] == 2) {//两对\n        for(var w in caleCards) {\n          if(i == caleCards[w].scores){\n            var s = caleCards[w].scores;\n            str = (parseInt(s)>=10 ? s :\"0\"+s) + str;\n            var c = caleCards[w].color;//牌色\n            valueColor = c + valueColor;//牌色\n\n          }\n        }\n      }\n      else {\n        for(var q in caleCards) {//单张加花色\n          if(i == caleCards[q].scores){\n            var s = caleCards[q].scores;\n            oneValue = (parseInt(s)>=10 ? s :\"0\"+s) + oneValue;\n\n            var c = caleCards[q].color;//牌色\n            oneValueColor = oneValueColor + c;//牌色\n\n          }\n        }\n\n      }\n\n    }\n    return typeScore+parseInt(str+oneValue);\n    //if(cc.huaSe == 0) return typeScore+parseInt(str+oneValue);\n    ////cc.log(str)\n    ////cc.log(oneValue)\n    //str = str+oneValue +oneValueColor + valueColor;\n    //return typeScore+parseInt(str);\n  }\n  else if(typeScore == 1000000000000000) {\n    //对子\n    //caleCards.sort(KQCard.sort);\n    var str = \"\";\n    var oneValue = \"\";\n    var oneValueColor = \"\";\n    var valueColor = \"\";\n\n    if(card20.length > 0){\n      caleCards.sort(function(card1,card2) {\n        return card2.point-card1.point;\n      });\n      caleCards = caleCards.kq_excludes(card20);\n      caleCards.forEach(function(card,index) {\n        var s = card.scores;\n        var c = card.color;\n        str = str+(parseInt(s)>=10 ? s :\"0\"+s);\n        if(index == 0){\n          var s20 = card20[0].scores;\n          str = str+(parseInt(s20)>=10 ? s20 :\"0\"+s20);\n          valueColor = valueColor+c;\n          valueColor = valueColor+card20[0].color;\n        }else{\n          oneValueColor = oneValueColor+c;\n        }\n      });\n      //cc.log(str)\n      //cc.log('--------274')\n      if(isTou){\n        str = str+'0000';\n        valueColor = valueColor+'00';\n      }\n      return typeScore+parseInt(str);\n      //if(cc.huaSe == 0) return typeScore+parseInt(str);\n      //str = str + oneValueColor + valueColor;\n      //return typeScore+parseInt(str);\n    }\n\n    for(var i in pointHelper.pointNumbers) {\n      if(pointHelper.pointNumbers[i] == maxNum) {//对子\n        for(var w in caleCards) {//对子加花色\n          if(i == caleCards[w].scores){\n            var s = caleCards[w].scores;\n            valueColor = caleCards[w].color + valueColor;\n            str = (parseInt(s)>=10 ? s :\"0\"+s) + str;\n          }\n        }\n      }\n      else {\n        for(var q in caleCards) {//单张加花色\n          if(i == caleCards[q].scores){\n            var s = caleCards[q].scores;\n            oneValueColor = caleCards[q].color + oneValueColor;\n            oneValue = (parseInt(s)>=10 ? s :\"0\"+s) + oneValue;\n          }\n        }\n\n      }\n\n    }\n    if(isTou){\n      oneValue = oneValue+'0000';\n      valueColor = valueColor+'00';\n    }\n    return typeScore+parseInt(str+oneValue);\n    //if(cc.huaSe == 0) return typeScore+parseInt(str+oneValue);\n    //str = str+oneValue+oneValueColor+valueColor;\n    //return typeScore+parseInt(str);\n  }\n  else if(typeScore == 0) {\n    //乌龙\n    var valuePoint = \"\";\n    var valueColor = \"\";\n    for(var q in caleCards) {\n      var s = caleCards[q].scores;\n      var c = caleCards[q].color;//单张加花色\n      valuePoint = (parseInt(s)>=10 ? s :\"0\"+s) + valuePoint;\n      valueColor = c + valueColor;\n    }\n    if(isTou){\n      valuePoint = valuePoint+'0000';\n      valueColor = valueColor+'00';\n    }\n    return typeScore+parseInt(valuePoint);\n    //if(cc.huaSe == 0) return typeScore+parseInt(valuePoint);\n    //valuePoint = valuePoint + valueColor;\n    //return typeScore+parseInt(valuePoint);\n  }\n\n\n  var cardsTotalPoint=0;\n  caleCards.forEach(function(card) {\n    cardsTotalPoint += card.point;\n  });\n\n  let result = typeScore + cardsTotalPoint;\n  return result;\n};\nKQCard._changeCardScors = function(cardModel) {\n  cardModel.forEach(function(card) {\n    card.scores = card.point;\n    if (card.scores == 1) {\n      card.scores = 14;\n    }\n  });\n\n  var is14 = true;//是 k q j 10 A;\n  var is1 = true;//是1 2 3 4 5\n\n  cardModel.forEach(function(card) {\n    if (card.scores < 10) {\n      is14 = false; //不是 k q j 10 A;\n    }\n  });\n  cardModel.forEach(function(card) {\n    card.scores = card.point;\n    if (card.scores == 14) {\n      card.scores = 1;\n    }\n  });\n  cardModel.forEach(function(card) {\n    if (card.scores > 5 && card.scores != 20) {\n      is1 = false;//不是1 2 3 4 5\n    }\n  });\n\n  if (is14) { //是 k q j 10 A;\n    cardModel.forEach(function(card) {\n      if (card.scores == 1) {\n        card.scores = 14;\n      }\n    });\n\n    cardModel.sort(function(a1, a2) {\n      return a2.scores - a1.scores;\n    });\n    var num = 14;\n    var scoresAyy = []; //一副牌的分数\n    for (var i = 0; i < 5; i++) {\n      scoresAyy.push(num);\n      num -= 1;\n    }\n    for (var j = 0; j < scoresAyy.length; j++) {\n      for (var i = 0; i < cardModel.length; i++) {\n        var cardScores = cardModel[i].scores;\n        if (cardScores == scoresAyy[j] && cardScores < 15) {\n          scoresAyy.splice(j, 1); //删除不是鬼牌的分\n        }\n      }\n    }\n    //cc.log('----------是 k q j 10 A',scoresAyy)\n    cardModel.forEach(function(card) { //找出选中的牌\n      if (card.point >= 20) {\n        card.scores = scoresAyy.splice(0, 1)[0];\n      }\n    }.bind(this));\n  }\n  else if (is1) { //是1 2 3 4 5\n    cardModel.sort(function(a1, a2) {\n      return a2.scores - a1.scores;\n    });\n    var num = 5;\n    var scoresAyy = []; //一副牌的分数\n    for (var i = 0; i < 5; i++) {\n      scoresAyy.push(num);\n      num -= 1;\n    }\n    for (var j = 0; j < scoresAyy.length; j++) {\n      for (var i = 0; i < cardModel.length; i++) {\n        var cardScores = cardModel[i].scores;\n        if (cardScores == scoresAyy[j] && cardScores < 15) {\n          scoresAyy.splice(j, 1); //删除不是鬼牌的分\n        }\n      }\n    }\n    //cc.log('----------是1 2 3 4 5')\n    cardModel.forEach(function(card) { //找出选中的牌\n      if (card.point >= 20) {\n        card.scores = scoresAyy.splice(0, 1)[0];\n      }\n    }.bind(this));\n  }\n  else {\n    cardModel.sort(function(a1, a2) {\n      return a1.scores - a2.scores;\n    });\n    var scoresAyy = []; //用来装鬼牌分数\n    for (var i = 0; i < 5; i++) {\n      var s = parseInt(cardModel[0].scores) + i; //最小的牌的分数\n      scoresAyy.push(s);//一副牌的分数\n    }\n    for (var j = 0; j < scoresAyy.length; j++) {\n      for (var i = 0; i < cardModel.length; i++) {\n        var cardScores = cardModel[i].scores;\n        if (cardScores == scoresAyy[j] && cardScores < 15) {\n          scoresAyy.splice(j, 1); //删除不是鬼牌的分\n        }\n      }\n    }\n    cardModel.forEach(function(card) { //改变牌的分数\n      if (card.point >= 20) {\n        card.scores = scoresAyy.splice(0,1)[0];\n      }\n    }.bind(this));\n  }\n\n  cardModel.forEach(function(card) {\n    if (card.scores == 1) {\n      card.scores = 14;\n    }\n  });\n  cardModel.sort(function(a1, a2) {\n    return a1.scores - a2.scores;\n  });\n  return cardModel;\n};\n/*#####*/\n\nKQCard._typeScoreOfCards = function (cards) {\n  var typeScore = 0;\n  if(KQCard.containWuTong(cards)){\n    typeScore = 9000000000000000;\n  } else if (KQCard.containTongHuaShun(cards)) {\n    typeScore = 8000000000000000;\n  } else if (KQCard.containTieZhi(cards)) {\n    typeScore = 7000000000000000;\n  } else if (KQCard.containHuLu(cards)) {\n    typeScore = 6000000000000000;\n  } else if (KQCard.containTongHua(cards)) {\n    typeScore = 5000000000000000;\n  } else if (KQCard.containShunZi(cards)) {\n    typeScore = 4000000000000000;\n  } else if (KQCard.containSanTiao(cards)) {\n    typeScore = 3000000000000000;\n  } else if (KQCard.containLiaDui(cards)) {\n    typeScore = 2000000000000000;\n  } else if (KQCard.containDuiZi(cards)) {\n    typeScore = 1000000000000000;\n  }\n\n  return typeScore;\n};\n/*\n // 根据牌型进行排序\n KQCard._typeCardsSort = function (cards) {\n if ((cards == null) || (cards.length == 0)) {\n return cards;\n }\n if(KQCard.containWuTong(cards)){\n return KQCard._typeCardsSortWutong(cards);\n } else if (KQCard.containTongHuaShun(cards)) {\n return KQCard._typeCardsSortShunZi(cards);\n } else if (KQCard.containTieZhi(cards)) {\n return KQCard._typeCardsSortTieZhi(cards);\n } else if (KQCard.containHuLu(cards)) {\n return KQCard._typeCardsSortHuLu(cards);\n } else if (KQCard.containTongHua(cards)) {\n return KQCard._typeCardsSortTongHua(cards);\n } else if (KQCard.containShunZi(cards)) {\n return KQCard._typeCardsSortShunZi(cards);\n } else if (KQCard.containSanTiao(cards)) {\n return KQCard._typeCardsSortSanTiao(cards);\n } else if (KQCard.containLiaDui(cards)) {\n return KQCard._typeCardsSortLiangDui(cards);\n } else if (KQCard.containDuiZi(cards)) {\n return KQCard._typeCardsSortDuiZi(cards);\n }\n\n return cards.sort(KQCard.sortByPoint).reverse();\n };\n\n KQCard._typeCardsSortShunZi = function (cards) {\n return cards.sort(KQCard.sortByPoint).reverse();\n };\n\n KQCard._typeCardsSortTieZhi = function (cards) {\n return KQCard._typeCardsSortByNumberOfPoints(cards);\n };\n\n /!*#####*!/\n KQCard._typeCardsSortWutong = function (cards) {\n return KQCard._typeCardsSortByNumberOfPoints(cards);\n };\n /!*#####*!/\n\n KQCard._typeCardsSortHuLu = function (cards) {\n return KQCard._typeCardsSortByNumberOfPoints(cards);\n };\n\n KQCard._typeCardsSortTongHua = function (cards) {\n return cards.sort(KQCard.sortByPoint).reverse();\n };\n\n KQCard._typeCardsSortSanTiao = function (cards) {\n return KQCard._typeCardsSortByNumberOfPoints(cards);\n };\n\n KQCard._typeCardsSortLiangDui = function (cards) {\n return KQCard._typeCardsSortByNumberOfPoints(cards);\n };\n\n KQCard._typeCardsSortDuiZi = function (cards) {\n return KQCard._typeCardsSortByNumberOfPoints(cards);\n };\n */\nKQCard._typeCardsSortByNumberOfPoints = function(cards) {\n\n  cards = KQCard._changeGuiCard(cards);\n\n  cards.forEach(function(i){if(i.scores == 1) i.scores = 14;})\n\n  let pointHelper = new KQCardScoretsHelper(cards);\n  let newCards = cards.slice().sort(function(card1, card2) {\n    let numberOfCard1 = pointHelper.pointNumbers[card1.scores];\n    let numberOfCard2 = pointHelper.pointNumbers[card2.scores];\n\n    if (numberOfCard2 != numberOfCard1) {\n      return numberOfCard2 - numberOfCard1;\n    }\n    var scores1 = card1.scores == 1? 14:card1.scores;\n    var scores2 = card2.scores == 1? 14:card2.scores;\n    return scores2 - scores1;\n    //return card2.scores - card1.scores;\n  });\n  newCards.forEach(function(i){if(i.scores == 14) i.scores = 1;})\n  return newCards/*.concat(card20)*/;\n};\n\nKQCard._typeCardsSortByNumberOfPoints1 = function(cards) {\n\n  cards = KQCard._changeGuiCard(cards);\n\n  cards.forEach(function(i){if(i.scores == 1) i.scores = 14;})\n\n  let pointHelper = new KQCardScoretsHelper(cards);\n  let newCards = cards.slice().sort(function(card1, card2) {\n    let numberOfCard1 = pointHelper.pointNumbers[card1.scores];\n    let numberOfCard2 = pointHelper.pointNumbers[card2.scores];\n\n    if (numberOfCard2 != numberOfCard1) {\n      return numberOfCard1 - numberOfCard2;\n    }\n    var scores1 = card1.scores == 1? 14:card1.scores;\n    var scores2 = card2.scores == 1? 14:card2.scores;\n    return scores1 - scores2;\n    //return card1.scores - card2.scores;\n  });\n  newCards.forEach(function(i){if(i.scores == 14) i.scores = 1;})\n  return newCards;\n};\n\nKQCard._changeGuiCard = function (cards) {\n\n  var card20 = KQCard.contain20(cards);\n\n  var ca = cards.kq_excludes(card20);\n\n  var helper = new KQCardPointsHelper(ca);\n\n  var so = 0;\n\n  var color = 1;\n\n  var type = KQCard.cardsType(cards) + 1;\n\n  type = type >= 10 ? type : \"0\" + type;\n\n  if(type == \"05\" || type == \"09\"){\n\n    return KQCard._changeCardScors(cards);\n\n  }\n  if(type == \"06\"){\n\n    for(var w in helper.pointNumbers) {\n\n      var maxNumber = helper.pointNumbers[w];\n\n      if(w == 1) w = 14;\n\n      if(maxNumber >= helper.maxNumber() && so < parseInt(w) && parseInt(w) != 20){so = parseInt(w);}\n\n    }\n    color = ca[0].color;\n\n    so = so == 14? 1: so;\n\n    card20.forEach(function(n){\n\n      n.scores = so;\n\n      n.colorScores = color;\n\n    });\n\n  }\n  if(type == \"07\" || type == \"22\" || type == \"08\" || type == \"10\"\n      || type == \"04\" || type == \"11\" || type == \"02\"){\n\n    for(var w in helper.pointNumbers) {\n\n      var maxNumber = helper.pointNumbers[w];\n\n      if(w == 1) w = 14;\n\n      if(maxNumber >= helper.maxNumber() && so < parseInt(w) && parseInt(w) != 20){so = parseInt(w);}\n\n    }\n\n    so = so == 14 ? 1: so\n\n    ca.forEach(function(n){if(so == n.point && color < n.color) color = n.color;});\n\n    card20.forEach(function(n){\n\n      n.scores = so;\n\n      n.colorScores = color;\n\n    }.bind(this));\n\n  }\n\n  return card20.concat(ca);\n};\n\nKQCard._setGuiCard = function (index, start, end, type, cards ,nodes, cardSpriteAtlas) {\n  //cc.log(cardSpriteAtlas)\n  //cc.log('-----593')\n  var card20 = KQCard.contain20(cards[index]);\n\n  var ca = cards[index].kq_excludes(card20);\n\n  var helper = new KQCardPointsHelper(ca);\n\n  var so = 0;\n\n  var color = 1;\n\n  var node = nodes.slice(start, end).filter(function(n){\n\n    if(n.childrenCount > 0 && n.children[0].cardName){\n\n      if(parseInt(n.children[0].cardName.split(\"_\")[1]) == 20) return true;\n\n    }\n  });\n\n  if(type == \"05\" || type == \"09\"){\n\n    cards[index] = KQCard._changeCardScors(cards[index]);\n\n    so = cards[index].filter(function(i){if(i.point == 20)return true;}).map(function(i){return i.scores == 14? 1:i.scores;});\n\n    node.forEach(function(n){\n\n      var btnSprite = n.getComponent(cc.Sprite);\n\n      var cardName = ca[0].color + \"_\" + so.splice(0,1)[0];\n\n      var path = \"public-pic-card-poker-\" + cardName;\n\n      KQCard._loadCardFrame(cardSpriteAtlas, path ,btnSprite);\n\n    }.bind(this));\n\n  }\n  if(type == \"06\"){\n\n    for(var w in helper.pointNumbers) {\n\n      var maxNumber = helper.pointNumbers[w];\n\n      if(w == 1) w = 14;\n\n      if(maxNumber >= helper.maxNumber() && so < parseInt(w) && parseInt(w) != 20){so = parseInt(w);}\n\n    }\n\n    color = ca[0].color;\n\n    so = so == 14? 1: so;\n\n    node.forEach(function(n){\n\n      var btnSprite = n.getComponent(cc.Sprite);\n\n      var cardName = color + \"_\" + so;\n\n      var path = \"public-pic-card-poker-\" + cardName;\n\n      KQCard._loadCardFrame(cardSpriteAtlas, path ,btnSprite);\n\n    }.bind(this));\n  }\n  if(type == \"07\" || type == \"22\" || type == \"08\" || type == \"10\"\n      || type == \"04\" || type == \"11\" || type == \"02\"){\n\n    for(var w in helper.pointNumbers) {\n\n      var maxNumber = helper.pointNumbers[w];\n\n      if(w == 1) w = 14;\n\n      if(maxNumber >= helper.maxNumber() && so < parseInt(w) && parseInt(w) != 20){so = parseInt(w);}\n\n    }\n\n    so = so == 14 ? 1: so\n\n    ca.forEach(function(n){if(so == n.point && color < n.color) color = n.color;});\n\n    node.forEach(function(n){\n\n      var btnSprite = n.getComponent(cc.Sprite);\n\n      var cardName = color + \"_\" + so;\n\n      var path = \"public-pic-card-poker-\" + cardName;\n\n      KQCard._loadCardFrame(cardSpriteAtlas, path ,btnSprite);\n\n    }.bind(this));\n\n\n  }\n\n};\n\nKQCard._setGuiCards = function (type, cards ,nodes, cardSpriteAtlas) {\n  //cc.log(cardSpriteAtlas)\n  //cc.log('-----593')\n  var card20 = KQCard.contain20(cards);\n\n  var ca = cards.kq_excludes(card20);\n\n  var helper = new KQCardPointsHelper(ca);\n\n  var so = 0;\n\n  var color = 1;\n\n  var node = nodes.slice().filter(function(n){\n\n    if(n.childrenCount > 0 && n.children[0].cardName){\n\n      if(parseInt(n.children[0].cardName.split(\"_\")[1]) == 20) return true;\n\n    }\n  });\n\n  if(type == \"05\" || type == \"09\"){\n\n    cards = KQCard._changeCardScors(cards);\n\n    so = cards.filter(function(i){if(i.point == 20)return true;}).map(function(i){return i.scores == 14? 1:i.scores;});\n\n    node.forEach(function(n){\n\n      var btnSprite = n.getComponent(cc.Sprite);\n\n      var cardName = ca[0].color + \"_\" + so.splice(0,1)[0];\n\n      var path = \"public-pic-card-poker-\" + cardName;\n\n      KQCard._loadCardFrame(cardSpriteAtlas, path ,btnSprite);\n\n    }.bind(this));\n\n  }\n  if(type == \"06\"){\n\n    for(var w in helper.pointNumbers) {\n\n      var maxNumber = helper.pointNumbers[w];\n\n      if(w == 1) w = 14;\n\n      if(maxNumber >= helper.maxNumber() && so < parseInt(w) && parseInt(w) != 20){so = parseInt(w);}\n\n    }\n\n    color = ca[0].color;\n\n    so = so == 14? 1: so;\n\n    node.forEach(function(n){\n\n      var btnSprite = n.getComponent(cc.Sprite);\n\n      var cardName = color + \"_\" + so;\n\n      var path = \"public-pic-card-poker-\" + cardName;\n\n      KQCard._loadCardFrame(cardSpriteAtlas, path ,btnSprite);\n\n    }.bind(this));\n  }\n  if(type == \"07\" || type == \"22\" || type == \"08\" || type == \"10\"\n      || type == \"04\" || type == \"11\" || type == \"02\"){\n\n    for(var w in helper.pointNumbers) {\n\n      var maxNumber = helper.pointNumbers[w];\n\n      if(w == 1) w = 14;\n\n      if(maxNumber >= helper.maxNumber() && so < parseInt(w) && parseInt(w) != 20){so = parseInt(w);}\n\n    }\n\n    so = so == 14 ? 1: so\n\n    ca.forEach(function(n){if(so == n.point && color < n.color) color = n.color;});\n\n    node.forEach(function(n){\n\n      var btnSprite = n.getComponent(cc.Sprite);\n\n      var cardName = color + \"_\" + so;\n\n      var path = \"public-pic-card-poker-\" + cardName;\n\n      KQCard._loadCardFrame(cardSpriteAtlas, path ,btnSprite);\n\n    }.bind(this));\n\n\n  }\n\n};\n\nKQCard._loadCardFrame = function(SpriteFrame, path, SpritesNode, w, h) {\n  //cc.log(SpriteFrame)\n  //cc.log('---769')\n  var Sprite = SpriteFrame.getSpriteFrame( path );\n\n  SpritesNode.spriteFrame = Sprite;\n\n  if(w) SpritesNode.node.width = w;\n\n  if(h) SpritesNode.node.height = h;\n};\n\n\nKQCard.testScore = function() {\n\n};"]}