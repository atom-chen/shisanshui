{"version":3,"sources":["UserSampleInfo.js"],"names":["SpriteHelper","require","cc","Class","extends","Component","properties","labelUserId","Label","labelUserIP","labelNickname","avatarSprite","Sprite","manSprite","womenSprite","_didShowUserInfo","onLoad","updateWithUser","user","unscheduleAllCallbacks","_disappearUserInfo","node","active","getComponent","alert","scheduleOnce","bind","string","id","ipAddress","replace","nickname","spriteFrame","setImageUrl","avatarUrl","sex"],"mappings":";;;;;;AAAA,IAAMA,eAAeC,QAAQ,cAAR,CAArB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,WAASF,GAAGG,SADP;;AAGLC,cAAY;AACRC,iBAAaL,GAAGM,KADR;AAERC,iBAAaP,GAAGM,KAFR;AAGRE,mBAAeR,GAAGM,KAHV;AAIRG,kBAAcT,GAAGU,MAJT;AAKRC,eAAWX,GAAGU,MALN;AAMRE,iBAAaZ,GAAGU,MANR;;AAQRG,sBAAkB;AARV,GAHP;;AAcL;AACAC,UAAQ,kBAAY,CAEnB,CAjBI;;AAmBLC,kBAAgB,wBAAUC,IAAV,EAAgB;AAC9B;AACA,QAAI,CAACA,IAAL,EAAW;AACT;AACD;;AAED,QAAI,KAAKH,gBAAL,IAAyBG,IAA7B,EAAmC;AACjC,WAAKC,sBAAL;AACA,WAAKC,kBAAL;AACA;AACD;;AAED,SAAKL,gBAAL,GAAwBG,IAAxB;AACA,QAAI,CAAC,KAAKG,IAAL,CAAUC,MAAf,EAAuB;AACrB,WAAKD,IAAL,CAAUE,YAAV,CAAuB,OAAvB,EAAgCC,KAAhC;AACD;;AAED,SAAKL,sBAAL;AACA,SAAKM,YAAL,CAAkB,YAAY;AAC5B,WAAKL,kBAAL;AACD,KAFiB,CAEhBM,IAFgB,CAEX,IAFW,CAAlB,EAEc,CAFd;;AAIA,SAAKnB,WAAL,CAAiBoB,MAAjB,GAAyB,WAAST,KAAKU,EAAvC;AACA,SAAKnB,WAAL,CAAiBkB,MAAjB,GAAyB,YAAUT,KAAKW,SAAL,CAAeC,OAAf,CAAuB,SAAvB,EAAkC,EAAlC,CAAnC;AACA,SAAKpB,aAAL,CAAmBiB,MAAnB,GAA4BT,KAAKa,QAAjC;AACA,SAAKpB,YAAL,CAAkBqB,WAAlB,GAAgC,IAAhC;AACAhC,iBAAaiC,WAAb,CAAyB,KAAKtB,YAA9B,EAA4CO,KAAKgB,SAAjD;;AAEA,QAAIC,MAAMjB,KAAKiB,GAAf,CA5B8B,CA4BT;AACrB,SAAKtB,SAAL,CAAeQ,IAAf,CAAoBC,MAApB,GAA8Ba,OAAO,CAArC;AACA,SAAKrB,WAAL,CAAiBO,IAAjB,CAAsBC,MAAtB,GAAgCa,OAAO,CAAvC;AACD,GAlDI;;AAoDLf,sBAAoB,8BAAY;AAC9B,SAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACA,SAAKP,gBAAL,GAAwB,IAAxB;AACD;AAvDI,CAAT","file":"UserSampleInfo.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Play","sourcesContent":["const SpriteHelper = require('SpriteHelper');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        labelUserId: cc.Label,\n        labelUserIP: cc.Label,\n        labelNickname: cc.Label,\n        avatarSprite: cc.Sprite,\n        manSprite: cc.Sprite,\n        womenSprite: cc.Sprite,\n\n        _didShowUserInfo: null,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n\n    },\n\n    updateWithUser: function (user) {\n      return;\n      if (!user) {\n        return;\n      }\n\n      if (this._didShowUserInfo == user) {\n        this.unscheduleAllCallbacks();\n        this._disappearUserInfo();\n        return;\n      }\n\n      this._didShowUserInfo = user;\n      if (!this.node.active) {\n        this.node.getComponent('alert').alert();\n      }\n\n      this.unscheduleAllCallbacks();\n      this.scheduleOnce(function () {\n        this._disappearUserInfo();\n      }.bind(this), 5);\n\n      this.labelUserId.string =\"UID:\\n\"+user.id;\n      this.labelUserIP.string =\"用户IP:\\n\"+user.ipAddress.replace(\"::ffff:\", \"\");\n      this.labelNickname.string = user.nickname;\n      this.avatarSprite.spriteFrame = null;\n      SpriteHelper.setImageUrl(this.avatarSprite, user.avatarUrl);\n\n      let sex = user.sex;  // sex: 1 男  2 女\n      this.manSprite.node.active = (sex == 1);\n      this.womenSprite.node.active = (sex != 1);\n    },\n\n    _disappearUserInfo: function () {\n      this.node.active = false;\n      this._didShowUserInfo = null;\n    },\n});\n"]}