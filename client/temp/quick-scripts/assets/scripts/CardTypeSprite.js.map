{"version":3,"sources":["CardTypeSprite.js"],"names":["KQCard","require","cc","Class","extends","Component","properties","_cardName","_cardModel","onLoad","setCard","cardName","index","asdf","_loadCardFrame","spriteFrame","node","getComponent","bind","cardMode","_cardFullName","cardShortName","startsWith","callback","assert","loader","loadRes","SpriteAtlas","err","atlas","error","frame","getSpriteFrame"],"mappings":";;;;;;AAAA,IAAMA,SAASC,QAAQ,QAAR,CAAf;AACAC,GAAGC,KAAH,CAAS;AACLC,WAASF,GAAGG,SADP;;AAGLC,cAAY;AACVC,eAAW,IADD;AAEVC,gBAAY;AAFF,GAHP;;AAQL;AACAC,UAAQ,kBAAY,CAEnB,CAXI;;AAaLC,WAAS,iBAAUC,QAAV,EAAoBC,KAApB,EAAwC;AAAA,QAAbC,IAAa,uEAAN,IAAM;;AAC/C,SAAKN,SAAL,GAAiBI,QAAjB;AACA,QAAGE,IAAH,EAAQ;AACJ,WAAKL,UAAL,GAAkB,IAAIR,MAAJ,CAAWW,QAAX,EAAoB,IAApB,EAAyBC,KAAzB,CAAlB;AACH;AACD,SAAKE,cAAL,CAAoBH,QAApB,EAA8B,UAAUI,WAAV,EAAuB;AACnD,WAAKC,IAAL,CAAUC,YAAV,CAAuB,WAAvB,EAAoCF,WAApC,GAAkDA,WAAlD;AACD,KAF6B,CAE5BG,IAF4B,CAEvB,IAFuB,CAA9B;AAGD,GArBI;;AAuBLP,YAAU,oBAAY;AACpB,WAAO,KAAKJ,SAAZ;AACD,GAzBI;;AA2BLY,YAAU,oBAAY;AACpB,WAAO,KAAKX,UAAZ;AACD,GA7BI;;AA+BLY,iBAAe,uBAAUC,aAAV,EAAyB;AACtC,QAAIV,WAAWU,aAAf;AACA,QAAI,CAACV,SAASW,UAAT,CAAoB,uBAApB,CAAL,EAAmD;AACjDX,iBAAW,2BAA2BA,QAAtC;AACD;;AAED,WAAOA,QAAP;AACD,GAtCI;;AAwCLG,kBAAgB,wBAAUH,QAAV,EAAoBY,QAApB,EAA8B;AAC5CrB,OAAGsB,MAAH,CAAUD,QAAV;;AAEArB,OAAGuB,MAAH,CAAUC,OAAV,CAAkB,+BAAlB,EAAmDxB,GAAGyB,WAAtD,EAAmE,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AACvF,UAAID,GAAJ,EAAS;AACP1B,WAAG4B,KAAH,CAASF,GAAT;AACA;AACD;;AAEDjB,iBAAW,KAAKS,aAAL,CAAmBT,QAAnB,CAAX;AACA,UAAIoB,QAAQF,MAAMG,cAAN,CAAqBrB,QAArB,CAAZ;AACAY,eAASQ,KAAT;AACD,KATkE,CASjEb,IATiE,CAS5D,IAT4D,CAAnE;AAUD;AArDI,CAAT","file":"CardTypeSprite.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["const KQCard = require('KQCard');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n      _cardName: null,\n      _cardModel: null,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n\n    },\n\n    setCard: function (cardName, index, asdf = true) {\n      this._cardName = cardName;\n      if(asdf){\n          this._cardModel = new KQCard(cardName,null,index);\n      }\n      this._loadCardFrame(cardName, function (spriteFrame) {\n        this.node.getComponent('cc.Sprite').spriteFrame = spriteFrame;\n      }.bind(this));\n    },\n\n    cardName: function () {\n      return this._cardName;\n    },\n\n    cardMode: function () {\n      return this._cardModel;\n    },\n\n    _cardFullName: function (cardShortName) {\n      var cardName = cardShortName;\n      if (!cardName.startsWith(\"public-pic-card-poker\")) {\n        cardName = \"public-pic-card-poker-\" + cardName;\n      }\n\n      return cardName;\n    },\n\n    _loadCardFrame: function (cardName, callback) {\n      cc.assert(callback);\n\n      cc.loader.loadRes(\"play/CardTypeCombine/pockList\", cc.SpriteAtlas, function (err, atlas) {\n        if (err) {\n          cc.error(err);\n          return;\n        }\n\n        cardName = this._cardFullName(cardName);\n        var frame = atlas.getSpriteFrame(cardName);\n        callback(frame);\n      }.bind(this));\n    },\n});\n"]}