{"version":3,"sources":["ArrayExtension.js"],"names":["module","exports","Array","prototype","find","predicate","TypeError","list","Object","length","thisArg","arguments","value","i","call","undefined","findIndex","includes","defineProperty","enumerable","searchElement","fromIndex","o","len","n","k","Math","max","abs","unique","equalFunction","newArray","_unqiue_new","_unqiue","array","from","j","isEqual","splice","toStr","toString","isCallable","fn","toInteger","number","Number","isNaN","isFinite","floor","maxSafeInteger","pow","toLength","min","arrayLike","C","items","mapFn","T","A","kValue","equal","arr1","arr2","strict","value1","value2","result","isArray","otherArray","sortByNumber","n1","n2","asc","findSubArrayIndexs","subArray","f","indexs","subValue","findFunc","thisValue","index","push","translationWithStartIndex","startIndex","pre","slice","last","concat","kq_insert","e","kq_excludes","forEach","element"],"mappings":"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","file":"ArrayExtension.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Extensions","sourcesContent":["// 给 Array 添加方法\n// arr.find(...)\n// arr.findIndex(...)\n// arr.includes(e)\n// arr.unique(equalFunction, isNewArray)\n// Array.from\n// Array.equal\n// arr.isEqual(otherArray, isStrict)\n// Array.sortByNumber\n// arr.findSubArrayIndexs([])   用于查找数组内的部分元素的索引\n// arr.translationWithStartIndex(startIndex) 将数组内的元素平移\n// 如：[1, 2, 3, 4, 5].translationWithStartIndex(3) => [4,5,1,2,3]\n// arr.kq_insert(index, e)   插入一个元素\n// arr.kq_excludes(array)   // 除了array数组中的元素\n\n\nmodule.exports = {};\n\nif (!Array.prototype.find) {\n  Array.prototype.find = function(predicate) {\n    'use strict';\n    if (this == null) {\n      throw new TypeError('Array.prototype.find called on null or undefined');\n    }\n    if (typeof predicate !== 'function') {\n      throw new TypeError('predicate must be a function');\n    }\n    var list = Object(this);\n    var length = list.length >>> 0;\n    var thisArg = arguments[1];\n    var value;\n\n    for (var i = 0; i < length; i++) {\n      value = list[i];\n      if (predicate.call(thisArg, value, i, list)) {\n        return value;\n      }\n    }\n    return undefined;\n  };\n}\n\nif (!Array.prototype.findIndex) {\n  Array.prototype.findIndex = function(predicate) {\n    if (this === null) {\n      throw new TypeError('Array.prototype.findIndex called on null or undefined');\n    }\n    if (typeof predicate !== 'function') {\n      throw new TypeError('predicate must be a function');\n    }\n    var list = Object(this);\n    var length = list.length >>> 0;\n    var thisArg = arguments[1];\n    var value;\n\n    for (var i = 0; i < length; i++) {\n      value = list[i];\n      if (predicate.call(thisArg, value, i, list)) {\n        return i;\n      }\n    }\n    return -1;\n  };\n}\n\n\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\nif (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    enumerable: false,\n    value: function(searchElement, fromIndex) {\n\n      // 1. Let O be ? ToObject(this value).\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n\n      var o = Object(this);\n\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\n      var len = o.length >>> 0;\n\n      // 3. If len is 0, return false.\n      if (len === 0) {\n        return false;\n      }\n\n      // 4. Let n be ? ToInteger(fromIndex).\n      //    (If fromIndex is undefined, this step produces the value 0.)\n      var n = fromIndex | 0;\n\n      // 5. If n ≥ 0, then\n      //  a. Let k be n.\n      // 6. Else n < 0,\n      //  a. Let k be len + n.\n      //  b. If k < 0, let k be 0.\n      var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n      // 7. Repeat, while k < len\n      while (k < len) {\n        // a. Let elementK be the result of ? Get(O, ! ToString(k)).\n        // b. If SameValueZero(searchElement, elementK) is true, return true.\n        // c. Increase k by 1.\n        // NOTE: === provides the correct \"SameValueZero\" comparison needed here.\n        if (o[k] === searchElement) {\n          return true;\n        }\n        k++;\n      }\n\n      // 8. Return false\n      return false;\n    }\n  });\n}\n\n// unique\nif (!Array.prototype.unique) {\n  Object.defineProperty(Array.prototype, 'unique', {\n    enumerable: false,\n    value: function(equalFunction, newArray = true) {\n      if (newArray) {\n        return this._unqiue_new(equalFunction);\n      }\n\n      return this._unqiue(equalFunction);\n    },\n  });\n\n  Object.defineProperty(Array.prototype, '_unqiue_new', {\n    enumerable: false,\n    value: function(equalFunction) {\n      let array = Array.from(this);\n\n      return array._unqiue(equalFunction);\n    }\n  });\n\n  Object.defineProperty(Array.prototype, '_unqiue', {\n    enumerable: false,\n    value: function(equalFunction) {\n      var len = this.length;\n      var i = -1;\n\n      while (i++ < len) {\n        var j = i + 1;\n\n        for (; j < this.length; ++j) {\n          var isEqual = false;\n          if (equalFunction) {\n            isEqual = equalFunction(this[i], this[j]);\n          } else {\n            isEqual = this[i] === this[j];\n          }\n\n          if (isEqual) {\n            this.splice(j--, 1);\n          }\n        }\n      }\n      return this;\n    },\n  });\n}\n\n\n// Production steps of ECMA-262, Edition 6, 22.1.2.1\n// Reference: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-array.from\nif (!Array.from) {\n  Array.from = (function() {\n    var toStr = Object.prototype.toString;\n    var isCallable = function(fn) {\n      return typeof fn === 'function' || toStr.call(fn) === '[object Function]';\n    };\n    var toInteger = function(value) {\n      var number = Number(value);\n      if (isNaN(number)) {\n        return 0;\n      }\n      if (number === 0 || !isFinite(number)) {\n        return number;\n      }\n      return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n    };\n    var maxSafeInteger = Math.pow(2, 53) - 1;\n    var toLength = function(value) {\n      var len = toInteger(value);\n      return Math.min(Math.max(len, 0), maxSafeInteger);\n    };\n\n    // The length property of the from method is 1.\n    return function from(arrayLike /*, mapFn, thisArg */ ) {\n      // 1. Let C be the this value.\n      var C = this;\n\n      // 2. Let items be ToObject(arrayLike).\n      var items = Object(arrayLike);\n\n      // 3. ReturnIfAbrupt(items).\n      if (arrayLike == null) {\n        throw new TypeError(\"Array.from requires an array-like object - not null or undefined\");\n      }\n\n      // 4. If mapfn is undefined, then let mapping be false.\n      var mapFn = arguments.length > 1 ? arguments[1] : void undefined;\n      var T;\n      if (typeof mapFn !== 'undefined') {\n        // 5. else\n        // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\n        if (!isCallable(mapFn)) {\n          throw new TypeError('Array.from: when provided, the second argument must be a function');\n        }\n\n        // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        if (arguments.length > 2) {\n          T = arguments[2];\n        }\n      }\n\n      // 10. Let lenValue be Get(items, \"length\").\n      // 11. Let len be ToLength(lenValue).\n      var len = toLength(items.length);\n\n      // 13. If IsConstructor(C) is true, then\n      // 13. a. Let A be the result of calling the [[Construct]] internal method of C with an argument list containing the single item len.\n      // 14. a. Else, Let A be ArrayCreate(len).\n      var A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n      // 16. Let k be 0.\n      var k = 0;\n      // 17. Repeat, while k < len… (also steps a - h)\n      var kValue;\n      while (k < len) {\n        kValue = items[k];\n        if (mapFn) {\n          A[k] = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.call(T, kValue, k);\n        } else {\n          A[k] = kValue;\n        }\n        k += 1;\n      }\n      // 18. Let putStatus be Put(A, \"length\", len, true).\n      A.length = len;\n      // 20. Return A.\n      return A;\n    };\n  }());\n}\n\nif (!Array.equal) {\n  Array.equal = function(arr1, arr2, strict = true) {\n    if (arr1 === undefined || arr2 === undefined) {\n      return false;\n    }\n\n    var length = arr1.length\n    if (length !== arr2.length) return false\n    for (var i = 0; i < length; i++) {\n      if (strict) {\n        if (arr1[i] !== arr2[i]) {\n          return false\n        }\n      } else {\n        var value1 = arr1[i];\n        var value2 = arr2[i];\n        var result = true;\n        if (Array.isArray(value1) && Array.isArray(value2)) {\n          result = Array.equal(value1, value2, strict);\n        } else {\n          result = (value1 == value2);\n        }\n      }\n\n    }\n\n    return true\n  };\n}\n\nif (!Array.prototype.isEqual) {\n  Object.defineProperty(Array.prototype, 'isEqual', {\n    enumerable: false,\n    value: function(otherArray, strict = true) {\n      return Array.equal(this, otherArray, strict);\n    },\n  });\n}\n\nif (!Array.sortByNumber) {\n  Array.sortByNumber = function (n1, n2, asc = true) {\n    return (n1 - n2) * (asc ? 1 : -1);\n  };\n}\n\nif (!Array.prototype.findSubArrayIndexs) {\n  Object.defineProperty(Array.prototype, 'findSubArrayIndexs', {\n    enumerable: false,\n    value: function (subArray, f) {\n      let indexs = [];\n      for (var i in subArray) {\n        let subValue = subArray[i];\n        let findFunc = f || function (thisValue) {\n          return subValue === thisValue;\n        }\n        let index = this.findIndex(findFunc);\n        if (index >= 0) {\n          indexs.push(index);\n        } else {\n          indexs = [];\n          break;\n        }\n      }\n\n      return indexs.length > 0 ? indexs : null;\n    },\n  });\n}\n\nif (!Array.prototype.translationWithStartIndex) {\n  Object.defineProperty(Array.prototype, 'translationWithStartIndex', {\n    enumerable: false,\n    value: function (startIndex) {\n      if (startIndex == 0) {\n        return this;\n      }\n\n      if (startIndex >= this.length) {\n        return this;\n      }\n\n      let pre = this.slice(startIndex);\n      let last = this.slice(0, startIndex);\n      let result = pre.concat(last);\n\n      return result;\n    },\n  });\n}\n\nif (!Array.prototype.kq_insert) {\n  Object.defineProperty(Array.prototype, 'kq_insert', {\n    enumerable: false,\n    value: function(index, e) {\n      if (e == null) {\n        return this;\n      }\n\n      if (index >= this.length) {\n        this.push(e);\n        return;\n      }\n\n      this.splice(index, 0, e);\n\n      return this;\n    },\n  });\n}\n\nif (!Array.prototype.kq_excludes) {\n  Object.defineProperty(Array.prototype, 'kq_excludes', {\n    enumerable: false,\n    value: function(otherArray) {\n      if (otherArray == null) {\n        return this;\n      }\n\n      let result = [];\n      this.forEach(function(element) {\n        if (!otherArray.includes(element)) {\n          result.push(element);\n        }\n      });\n\n      return result;\n    },\n  });\n}\n\n/*\nif(!Array.prototype.min){\n  Array.prototype.min = function() {\n    var min = this[0];\n    var len = this.length;\n    for (var i = 1; i < len; i++) {\n      if (this[i] < min) {\n        min = this[i];\n      }\n    }\n    return min;\n  }\n}*/\n"]}