{"version":3,"sources":["joinRoom.js"],"names":["cc","Class","extends","Component","properties","labelNumbers","Label","callbackJoinRoom","onLoad","clickClear","clickNumber","event","number","label","_lastEmptyLabel","string","isComplete","roomNumber","_roomNumber","forEach","clickDeleteOne","_lastNumberLabel","index","length","reduce"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,WAASF,GAAGG,SADP;;AAGLC,cAAY;AACRC,kBAAc,CAACL,GAAGM,KAAJ,CADN;AAERC,sBAAkB;AAFV,GAHP;;AAQL;AACAC,UAAQ,kBAAY;AAClB,SAAKC,UAAL;AACD,GAXI;;AAaLC,eAAa,qBAAUC,KAAV,EAAiBC,MAAjB,EAAyB;AACpC,QAAIC,QAAQ,KAAKC,eAAL,EAAZ;AACA,QAAID,KAAJ,EAAW;AACTA,YAAME,MAAN,GAAeH,MAAf;AACD,KAFD,MAEO;AACL;AACD;;AAED,QAAII,aAAc,KAAKF,eAAL,MAA0B,IAA5C;AACA,QAAIE,cAAc,KAAKT,gBAAvB,EAAyC;AACvC,UAAIU,aAAa,KAAKC,WAAL,EAAjB;AACA;AACA,WAAKX,gBAAL,CAAsBU,UAAtB;AACD;AACF,GA3BI;;AA6BLR,cAAY,sBAAY;AACtB,SAAKJ,YAAL,CAAkBc,OAAlB,CAA0B,UAAUN,KAAV,EAAiB;AACzCA,YAAME,MAAN,GAAe,EAAf;AACD,KAFD;AAGD,GAjCI;;AAmCLK,kBAAgB,0BAAY;AAC1B,QAAIP,QAAQ,KAAKQ,gBAAL,EAAZ;AACA,QAAIR,KAAJ,EAAW;AACTA,YAAME,MAAN,GAAe,EAAf;AACD;AACF,GAxCI;;AA0CLD,mBAAiB,2BAAY;AAC3B,SAAK,IAAIQ,KAAT,IAAkB,KAAKjB,YAAvB,EAAqC;AACnC,UAAIQ,QAAQ,KAAKR,YAAL,CAAkBiB,KAAlB,CAAZ;AACA,UAAIT,MAAME,MAAN,IAAgB,IAAhB,IACDF,MAAME,MAAN,CAAaQ,MAAb,IAAuB,CAD1B,EAC6B;AAC3B,eAAOV,KAAP;AACD;AACF;AACD,WAAO,IAAP;AACD,GAnDI;;AAqDLQ,oBAAkB,4BAAY;AAC5B,SAAK,IAAIC,QAAQ,KAAKjB,YAAL,CAAkBkB,MAAlB,GAA2B,CAA5C,EAA+CD,SAAS,CAAxD,EAA2D,EAAEA,KAA7D,EAAoE;AAClE,UAAIT,QAAQ,KAAKR,YAAL,CAAkBiB,KAAlB,CAAZ;AACA,UAAIT,MAAME,MAAN,IAAgBF,MAAME,MAAN,CAAaQ,MAAb,GAAsB,CAA1C,EAA6C;AAC3C,eAAOV,KAAP;AACD;AACF;;AAED,WAAO,IAAP;AACD,GA9DI;;AAgELK,eAAa,uBAAY;AACvB,WAAO,KAAKb,YAAL,CAAkBmB,MAAlB,CAAyB,UAAUP,UAAV,EAAsBJ,KAAtB,EAA6B;AAC3D,aAAOI,cAAcJ,MAAME,MAAN,IAAgB,EAA9B,CAAP;AACD,KAFM,EAEJ,EAFI,CAAP;AAGD;AApEI,CAAT","file":"joinRoom.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        labelNumbers: [cc.Label],\n        callbackJoinRoom: null,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n      this.clickClear();\n    },\n\n    clickNumber: function (event, number) {\n      var label = this._lastEmptyLabel();\n      if (label) {\n        label.string = number;\n      } else {\n        return;\n      }\n\n      let isComplete = (this._lastEmptyLabel() == null);\n      if (isComplete && this.callbackJoinRoom) {\n        let roomNumber = this._roomNumber();\n        // cc.log(\"要加入的房间号是：\", roomNumber);\n        this.callbackJoinRoom(roomNumber);\n      }\n    },\n\n    clickClear: function () {\n      this.labelNumbers.forEach(function (label) {\n        label.string = \"\";\n      });\n    },\n\n    clickDeleteOne: function () {\n      let label = this._lastNumberLabel();\n      if (label) {\n        label.string = \"\";\n      }\n    },\n\n    _lastEmptyLabel: function () {\n      for (var index in this.labelNumbers) {\n        var label = this.labelNumbers[index];\n        if (label.string == null\n        || label.string.length <= 0) {\n          return label;\n        }\n      }\n      return null;\n    },\n\n    _lastNumberLabel: function () {\n      for (var index = this.labelNumbers.length - 1; index >= 0; --index) {\n        let label = this.labelNumbers[index];\n        if (label.string && label.string.length > 0) {\n          return label;\n        }\n      }\n\n      return null;\n    },\n\n    _roomNumber: function () {\n      return this.labelNumbers.reduce(function (roomNumber, label) {\n        return roomNumber + (label.string || \"\");\n      }, \"\");\n    },\n});\n"]}