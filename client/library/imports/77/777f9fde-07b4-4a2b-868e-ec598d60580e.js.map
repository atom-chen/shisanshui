{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": ";;;;;;AAMA,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACjC,EAAE,CAAC,KAAK,CAAC;AACL,aAAS,EAAE,CAAC,SAAS;;AAErB,YAAU,EAAE;AACR,gBAAY,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC;AACxB,sBAAkB,EAAE,EAAE;GACzB;;AAED,QAAM,EAAE,kBAAY;AAClB,QAAI,CAAC,UAAU,EAAE,CAAC;GACnB;;AAED,YAAU,EAAE,sBAAY;AACtB,QAAI,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE;AACzC,WAAK,CAAC,MAAM,GAAG,EAAE,CAAC;KACnB,CAAC,CAAC;GACJ;;AAED,aAAW,EAAE,qBAAU,KAAK,EAAE,MAAM,EAAE;AACpC,QAAI,KAAK,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;AACnC,QAAI,KAAK,EAAE;AACT,WAAK,CAAC,MAAM,GAAG,MAAM,CAAC;;KAEvB,MAAM;AACL,eAAO;OACR;AACD,QAAI,UAAU,GAAI,IAAI,CAAC,eAAe,EAAE,IAAI,IAAI,AAAC,CAAC;;AAElD,QAAI,YAAY,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;;AAExC,QAAK,YAAY,CAAC,MAAM,IAAI,CAAC,EAAE;;AAE7B,UAAI,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;;AAEzC,UAAI,CAAC,kBAAkB,GAAG,YAAY,CAAC;KACxC;GACF;AACD,UAAQ,EAAE,oBAAU;;AAClB,QAAI,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;AACzC,QAAI,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC;;AAE3C,QAAI,YAAY,IAAI,YAAY,CAAC,MAAM,IAAE,CAAC,EAAC;AACzC,YAAM,CAAC,cAAc,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;AAC5C,UAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;KAC9B;GACF;AACD,gBAAc,EAAE,0BAAY;AAC1B,QAAI,KAAK,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;AACpC,QAAI,KAAK,EAAE;AACT,WAAK,CAAC,MAAM,GAAG,EAAE,CAAC;KACnB;GACF;;AAED,iBAAe,EAAE,2BAAY;AAC3B,SAAK,IAAI,KAAK,IAAI,IAAI,CAAC,YAAY,EAAE;AACnC,UAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;AACrC,UAAI,KAAK,CAAC,MAAM,IAAI,IAAI,IACrB,KAAK,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;AAC3B,eAAO,KAAK,CAAC;OACd;KACF;AACD,WAAO,IAAI,CAAC;GACb;;AAED,kBAAgB,EAAE,4BAAY;AAC5B,SAAK,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,EAAE,KAAK,EAAE;AAClE,UAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;AACrC,UAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;AAC3C,eAAO,KAAK,CAAC;OACd;KACF;;AAED,WAAO,IAAI,CAAC;GACb;;AAED,eAAa,EAAE,yBAAY;AACzB,WAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,YAAY,EAAE,KAAK,EAAE;;AAE7D,aAAO,YAAY,IAAI,KAAK,CAAC,MAAM,IAAI,EAAE,CAAA,AAAC,CAAC;KAC5C,EAAE,EAAE,CAAC,CAAC;GACR;CACJ,CAAC,CAAA",
  "file": "unknown",
  "sourcesContent": [
    "/**\r\n * 邀请码\r\n * @authors 黄成(you@example.org)\r\n * @date    2017-06-16 09:44:10\r\n * @version $Id$\r\n */\r\nconst Socket = require('socket');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        labelNumbers: [cc.Label],\r\n        callbackInviteCode: '',\r\n    },\r\n\r\n    onLoad: function () {\r\n      this.clickClear(); //清除数字\r\n    },\r\n\r\n    clickClear: function () {\r\n      this.labelNumbers.forEach(function (label) {\r\n        label.string = \"\";\r\n      });\r\n    },\r\n\r\n    clickNumber: function (event, number) {\r\n      var label = this._lastEmptyLabel();\r\n      if (label) {\r\n        label.string = number;\r\n       \t//cc.log(label.string ,\"----------------\");\r\n      } else {\r\n        return;\r\n      }\r\n      let isComplete = (this._lastEmptyLabel() == null);\r\n      //cc.log(\"isComplete-------------\", this.callbackInviteCode);\r\n      let inviteNumber = this._inviteNumber();\r\n\r\n      if ( inviteNumber.length == 6 ){\r\n        //cc.log(inviteNumber,\"--------------------38\"); //邀请码\r\n        let userId = Socket.instance.userInfo.id;\r\n        //Socket.sendInviteCode(inviteNumber, userId);\r\n        this.callbackInviteCode = inviteNumber;\r\n      }\r\n    },\r\n    sendCode :function(){  //发送邀请码\r\n      let userId = Socket.instance.userInfo.id;\r\n      let inviteNumber = this.callbackInviteCode;\r\n      //cc.log(inviteNumber,\"--------------------38\")\r\n      if( inviteNumber && inviteNumber.length==6){  \r\n        Socket.sendInviteCode(inviteNumber, userId);\r\n        this.callbackInviteCode = '';   //清空邀请码\r\n      }\r\n    },\r\n    clickDeleteOne: function () {\r\n      let label = this._lastNumberLabel();\r\n      if (label) {\r\n        label.string = \"\";\r\n      }\r\n    },\r\n\r\n    _lastEmptyLabel: function () {\r\n      for (var index in this.labelNumbers) {\r\n        var label = this.labelNumbers[index];\r\n        if (label.string == null\r\n        || label.string.length <= 0) {\r\n          return label;\r\n        }\r\n      }\r\n      return null;\r\n    },\r\n\r\n    _lastNumberLabel: function () {\r\n      for (var index = this.labelNumbers.length - 1; index >= 0; --index) {\r\n        let label = this.labelNumbers[index];\r\n        if (label.string && label.string.length > 0) {\r\n          return label;\r\n        }\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    _inviteNumber: function () {\r\n      return this.labelNumbers.reduce(function (inviteNumber, label) {\r\n        //cc.log(inviteNumber,\"-----------------\");\r\n        return inviteNumber + (label.string || \"\");\r\n      }, \"\");\r\n    },\r\n})"
  ]
}